\chapter{所有的预定义函数}

fkparse提供了一些内置函数供您使用。

\section{随机数}

函数名称：\verb|'生成随机数'|

功能：生成一个范围为[下界，上界]的随机数。

参数：

\begin{itemize}
  \item \verb|'上界'|：数字类型，默认为10
  \item \verb|'下界'|：数字类型，默认为1
\end{itemize}

返回：数字类型

\section{提示信息}

函数名称：\verb|'创建提示信息'|

功能：根据给定的各种参数，构造一个提示信息。

参数：

\begin{itemize}
  \item \verb|'文本'|：字符串类型，无默认值
  \item \verb|'玩家1'|：玩家类型，默认为空
  \item \verb|'玩家2'|：玩家类型，默认为空
  \item \verb|'变量1'|：数字类型或者字符串类型，默认为空
  \item \verb|'变量2'|：数字类型或者字符串类型，默认为空
\end{itemize}

返回：字符串类型

说明：\\

在这个函数中，提示信息的主体由\verb|'文本'|决定。在\verb|'文本'|中，可以通过如下方式向文本中引入变量：

\begin{itemize}
  \item \verb|%src|: 对应着参数\verb|'玩家1'|，它会被替换为对应玩家的武将名称
  \item \verb|%dest|: 对应着参数\verb|'玩家2'|，它会被替换为对应玩家的武将名称
  \item \verb|%arg|: 对应着参数\verb|'变量1'|，被替换为对应的值
  \item \verb|%arg2|: 对应着参数\verb|'变量2'|，被替换为对应的值
\end{itemize}

\section{卡牌规则}

函数名称：\verb|'创建卡牌规则'|

功能：根据给定的各种参数，构造一个能判定卡牌是否符合类型的字符串。

参数：

\begin{itemize}
  \item \verb|'牌名表'|：保存着所有可行牌名的列表，默认为所有牌名
  \item \verb|'花色表'|：保存着所有可行花色的列表，默认为所有牌名
  \item \verb|'点数表'|：保存着所有可行点数的列表，默认为所有牌名
\end{itemize}

返回：字符串类型

\section{虚拟牌}

函数名称：\verb|'创建虚拟牌'|

功能：根据给定的各种参数，构造一张虚拟牌。注意这边“虚拟牌”和规则集说的“虚拟牌”不是一个东西。

参数：

\begin{itemize}
  \item \verb|'点数'|：数字类型，保存着虚拟牌的点数，默认由游戏自行判断，一般可不填
  \item \verb|'花色'|：字符串类型，虚拟牌的花色，默认由游戏自行判断，一般可不填
  \item \verb|'牌名'|：字符串类型，即虚拟牌的牌名，默认为普通杀
  \item \verb|'子卡牌'|：卡牌数组类型，保存着虚拟牌的子卡牌（即其对应的实体卡），默认为空
  \item \verb|'技能名'|：字符串类型，表示创建该虚拟牌的技能名，默认为空字符串
\end{itemize}

说明：\\

太阳神三国杀“自行判断”花色和点数的行为可能与规则集有所出入，特于此说明。

\begin{itemize}
 \item 虚拟牌的颜色取决于所有子卡牌的颜色，只要子卡牌的颜色都相同，那么虚拟牌也是那个颜色。否则虚拟牌的颜色为无色。除非子卡牌刚好只有一张，虚拟牌都是没有花色的。
 \item 虚拟牌的点数为所有子卡牌点数之和（最大为K），若没有子卡牌则没有点数。
\end{itemize}

返回：卡牌类型

\section{卡牌区域}

函数名称：\verb|'创建具体区域'|

功能：根据给定的参数，创建一个允许选卡区域的参数。

\begin{itemize}
  \item \verb|'包含手牌区'|: 布尔类型，默认为假。
  \item \verb|'包含装备区'|: 布尔类型，默认为假。
  \item \verb|'包含判定区'|: 布尔类型，默认为假。
\end{itemize}

如果三个参数都不提供，则视为返回所有区域均可。

