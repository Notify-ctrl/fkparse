\chapter{所有的动作语句}

先列出语句格式，再依次说明表达式类型需求，最后说返回值（如果有）。

前面有个没说过的，动作语句也可以带额外参数，毕竟一句话没法描述完全部的情况。因此对于一部分动作语句也提供了一些额外的参数，像函数那样用就行了，具体参考已有的txt。

\section{摸牌}

\begin{verbatim}
<表达式> 摸 <表达式> 张牌
\end{verbatim}

玩家类型；数字类型

\section{失去体力}

\begin{verbatim}
<表达式> 失去 <表达式> 点体力
\end{verbatim}

玩家类型；数字类型

\section{失去体力上限}

\begin{verbatim}
<表达式> 失去 <表达式> 点体力上限
\end{verbatim}

玩家类型；数字类型

\section{造成伤害}

\begin{verbatim}
<表达式> 对 <表达式> 造成 <表达式> 点伤害
\end{verbatim}

玩家类型；玩家类型；数字类型 \\

额外参数：

\begin{itemize}
  \item \verb|'伤害属性'|：数字类型，默认为\verb|'无属性'|
  \item \verb|'造成伤害的牌'|：卡牌类型，默认为\verb|nil|
  \item \verb|'造成伤害的原因'|：字符串类型，默认为空字符串
\end{itemize}

\section{受到伤害}

\begin{verbatim}
<表达式> 受到 <表达式> 点伤害
\end{verbatim}

玩家类型；数字类型 \\

额外参数同上。

\section{回复体力}

\begin{verbatim}
<表达式> 回复 <表达式> 点体力
\end{verbatim}

玩家类型；数字类型 \\

额外参数：

\begin{itemize}
  \item \verb|'回复来源'|：玩家类型，默认为\verb|nil|
  \item \verb|'回复的牌'|：卡牌类型，默认为\verb|nil|
\end{itemize}

\section{回复体力上限}

\begin{verbatim}
<表达式> 回复 <表达式> 点体力上限
\end{verbatim}

玩家类型；数字类型

\section{获得技能}

\begin{verbatim}
<表达式> 获得技能 <表达式>
\end{verbatim}

玩家类型；字符串类型

\section{失去技能}

\begin{verbatim}
<表达式> 失去技能 <表达式>
\end{verbatim}

玩家类型；字符串类型

\section{获得标记}

\begin{verbatim}
<表达式> 获得 <表达式> 枚 <字符串> [隐藏] 标记
\end{verbatim}

玩家类型；数字类型

<字符串>表示标记的名称。

注：“隐藏”可填可不填，如果写了是隐藏标记的话，获得标记将不会显示在战报中，也没有图片，可以借此实现技能发动次数控制等。

\section{失去标记}

\begin{verbatim}
<表达式> 失去 <表达式> 枚 <字符串> [隐藏] 标记
\end{verbatim}

玩家类型；数字类型

\section{统计标记数量}

\begin{verbatim}
<表达式> <字符串> [隐藏] 标记数量
\end{verbatim}

玩家类型

返回：数字类型

\section{询问选择选项}

\begin{verbatim}
<表达式> 从 <表达式> 选择一项
\end{verbatim}

玩家类型；数组（字符串类型） \\

额外参数：

\begin{itemize}
  \item \verb|'选择的原因'|：字符串类型，默认为空字符串
\end{itemize}

返回：字符串类型

\section{询问选择玩家}

\begin{verbatim}
<表达式> 从 <表达式> 选择一名角色
\end{verbatim}

玩家类型；数组（玩家类型） \\

额外参数：

\begin{itemize}
  \item \verb|'选择的原因'|：字符串类型，默认为空字符串
  \item \verb|'提示框文本'|：字符串类型，默认为默认的提示文本
  \item \verb|'可以点取消'|：布尔类型，默认为\verb|真|
  \item \verb|'提示技能发动'|：布尔类型，默认为\verb|假|
\end{itemize}

返回：玩家类型

\section{询问发动技能}

\begin{verbatim}
<表达式> 选择发动 <字符串>
\end{verbatim}

玩家类型

<字符串>是技能的中文名字，且只能是本文件中已经定义的技能。定义的先后顺序不重要

返回：布尔类型

\section{获得卡牌}

\begin{verbatim}
<表达式> 获得卡牌 <表达式>
\end{verbatim}

玩家类型；卡牌类型 \\

额外参数：

\begin{itemize}
  \item \verb|'公开'|：布尔类型，默认为\verb|真|
\end{itemize}

\section{拥有技能}

\begin{verbatim}
<表达式> 拥有技能 <字符串>
\end{verbatim}

玩家类型

<字符串>是技能的中文名字，且只能是本文件中已经定义的技能。定义的先后顺序不重要

返回：布尔类型

\section{因发动技能而弃牌}

\begin{verbatim}
<表达式> 因技能 <字符串> 弃置卡牌 <表达式>
\end{verbatim}

玩家类型；卡牌数组

<字符串>是技能的中文名字，且只能是本文件中已经定义的技能。定义的先后顺序不重要

本语句只能用在主动技的效果中。

\section{主动技的发动次数}

\begin{verbatim}
<表达式> 发动主动技 <字符串> 的次数
\end{verbatim}

玩家类型；卡牌数组

<字符串>是技能的中文名字，且只能是本文件中已经定义的技能。定义的先后顺序不重要

这种办法只能获取当前阶段里面发动那个技能的次数。如果想要做一回合发动多少次的技能，请使用隐藏标记实现。

\section{弃置角色的牌}

\begin{verbatim}
<表达式> 需弃置 <表达式> 张牌
<表达式> 需弃置 <表达式> 张手牌
\end{verbatim}

玩家类型：卡牌数组

前者令目标弃置手牌或装备牌，后者只弃置手牌。建议用\{'技能名':"<技能名>"\}的方式标注技能。

\{\}内还能增加这些参数：

\begin{itemize}
  \item \verb|'最小弃置数量'|: 整数型，默认为\verb|-1|，也就是和弃牌张数相同。
  \item \verb|'时间限制'|: 布尔型，默认为\verb|假|。
  \item \verb|'提示信息'|: 字符型，默认为\verb|空|
  \item \verb|'弃牌限制'|: 字符型正则表达式，就比如“只能弃置黑色牌”一类的限制，目前还没具体做，默认是\verb|"."|，即没有这种限制。
\end{itemize}

返回类型：卡牌类型。

\section{播放台词}

\begin{verbatim}
  <表达式> 说出 <字符串> 的台词
\end{verbatim}

如果有多个编号完的音频还需要选择，在后面加上\{'音频编号': <编号>\}。